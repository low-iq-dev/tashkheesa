<%- include('partials/header', { title: "Doctor Signup", layout: "public", showNav: false, showFooter: false }) %>
  <div class="page-shell">
    <div class="page-inner">
      <main>
        <div class="page-heading">
          <div>
            <h1>Apply as a Specialist</h1>
            <p class="flow-note">Join Tashkheesa’s verified network and receive curated second‑opinion cases in your field.</p>
          </div>
          <div class="section-cta">
            <a class="btn btn-secondary" href="/login">Already have an account?</a>
          </div>
        </div>

        <% if (error) { %>
          <div class="flow-card soft">
            <p class="flow-note"><strong><%= error %></strong></p>
          </div>
        <% } %>

        <div class="flow-grid">
          <div class="flow-column">
            <div class="flow-card soft">
              <p class="flow-note">
                Applications are reviewed by our clinical board. Once approved, you’ll gain access to the doctor portal and start receiving cases.
              </p>
              <p class="flow-note">Complete the form below and our team will review your application before activating your account.</p>
              <h3>How it works</h3>
              <ul class="flow-list">
                <li>Apply with your credentials</li>
                <li>Clinical board verification</li>
                <li>Portal access + case assignments</li>
              </ul>
            </div>
          </div>
          <div class="flow-column">
            <div class="flow-card primary">
              <form method="post" action="/doctor/signup">
                <%- (typeof csrfField === 'function') ? csrfField() : '' %>
                <div class="form-group">
                  <label class="form-label">Name</label>
                  <input type="text" name="name" value="<%= (form && form.name) || '' %>" required class="form-control" />
                </div>
                <div class="form-group">
                  <label class="form-label">Email</label>
                  <input type="email" name="email" value="<%= (form && form.email) || '' %>" required class="form-control" />
                </div>
                <div class="form-group">
                  <label class="form-label">Password</label>
                  <input type="password" name="password" required minlength="6" class="form-control" />
                </div>
                <div class="form-group">
                  <label class="form-label">Specialty</label>
                  <select name="specialty_id" required class="form-control">
                    <option value="">Select specialty</option>
                    <% (specialties || []).forEach(function(sp){ %>
                      <option value="<%= sp.id %>" <%= form && form.specialty_id == sp.id ? 'selected' : '' %>><%= sp.name %></option>
                    <% }); %>
                  </select>
                </div>
                <div class="form-group">
                  <label class="form-label">Phone</label>
                  <input type="text" name="phone" value="<%= (form && form.phone) || '' %>" class="form-control" />
                </div>
                <div class="form-group">
                  <label class="form-label">Notes</label>
                  <textarea name="notes" rows="4" placeholder="Share your experience or certificates (optional)" class="form-control"><%= (form && form.notes) || '' %></textarea>
                </div>
                <div class="section-cta">
                  <button class="btn btn-primary btn-full" type="submit">Apply to Tashkheesa</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>

<%- include('partials/footer', { showFooter: false }) %>
